{% extends "base.html" %}
{% load widget_tweaks %}

{% block title %}Cadastro | Street Vibes 90s{% endblock %}

{% block content %}
{% if messages %}
  {% for message in messages %}
    <div class="text-center p-2 mb-4 rounded 
                {% if message.tags == 'success' %}bg-green-500{% elif message.tags == 'error' %}bg-red-600{% endif %}">
      {{ message }}
    </div>
  {% endfor %}
{% endif %}

<div class="min-h-screen flex flex-col items-center justify-center px-4"
     style="background: linear-gradient(135deg, #1abc9c 0%, #9b59b6 50%, #e91e63 100%);">

  <form method="post" class="bg-black/60 backdrop-blur-md p-8 rounded-2xl shadow-[0_0_20px_#ff00ff] w-full max-w-md text-white animate__animated animate__fadeInUp">
    <h2 class="text-4xl font-extrabold text-center mb-6 text-yellow-300 drop-shadow-md">Cadastro Street Vibes 90s</h2>

    {% csrf_token %}

    <div class="mb-4">
      <label class="block mb-1 text-pink-300">Nome</label>
      <div class="flex items-center bg-gray-800 border border-pink-400 rounded px-3">
        <i class="fa fa-user text-yellow-400 mr-2"></i>
        {{ form.first_name|add_class:"w-full py-2 bg-transparent focus:outline-none text-white" }}
      </div>
      {{ form.first_name.errors }}
    </div>

    <div class="mb-4">
      <label class="block mb-1 text-pink-300">Sobrenome</label>
      <div class="flex items-center bg-gray-800 border border-pink-400 rounded px-3">
        <i class="fa fa-user-tag text-yellow-400 mr-2"></i>
        {{ form.last_name|add_class:"w-full py-2 bg-transparent focus:outline-none text-white" }}
      </div>
      {{ form.last_name.errors }}
    </div>

    <div class="mb-4">
      <label class="block mb-1 text-pink-300">E-mail</label>
      <div class="flex items-center bg-gray-800 border border-pink-400 rounded px-3">
        <i class="fa fa-envelope text-yellow-400 mr-2"></i>
        {{ form.email|add_class:"w-full py-2 bg-transparent focus:outline-none text-white" }}
      </div>
      {{ form.email.errors }}
    </div>
    {% if request.user.is_authenticated and request.user.perfilusuario.perfil == 'master' %}
  <div class="mb-4">
    <label for="perfil" class="block mb-1 text-pink-300">Tipo de Usuário</label>
    <div class="flex items-center bg-gray-800 border border-pink-400 rounded px-3">
      <i class="fas fa-user-shield text-yellow-400 mr-2"></i>
      {{ form.perfil|add_class:"w-full py-2 bg-transparent focus:outline-none text-white" }}
    </div>
    {{ form.perfil.errors }}
  </div>
{% endif %}

    <div class="mb-4">
      <label class="block mb-1 text-pink-300">CPF</label>
      <div class="flex items-center bg-gray-800 border border-pink-400 rounded px-3">
        <i class="fa fa-id-card text-yellow-400 mr-2"></i>
        {{ form.cpf|add_class:"w-full py-2 bg-transparent focus:outline-none text-white" }}
      </div>
      {{ form.cpf.errors }}
    </div>

    <div class="mb-4">
      <label class="block mb-1 text-pink-300">Senha</label>
      <div class="flex items-center bg-gray-800 border border-pink-400 rounded px-3">
        <i class="fa fa-lock text-yellow-400 mr-2"></i>
        {{ form.password1|add_class:"w-full py-2 bg-transparent focus:outline-none text-white" }}
      </div>
      {{ form.password1.errors }}
    </div>

    <div class="mb-6">
      <label class="block mb-1 text-pink-300">Confirmar Senha</label>
      <div class="flex items-center bg-gray-800 border border-pink-400 rounded px-3">
        <i class="fa fa-lock text-yellow-400 mr-2"></i>
        {{ form.password2|add_class:"w-full py-2 bg-transparent focus:outline-none text-white" }}
      </div>
      {{ form.password2.errors }}
    </div>

    <div class="mb-4">
      <label class="block mb-1 text-pink-300">Telefone</label>
      <div class="flex items-center bg-gray-800 border border-pink-400 rounded px-3">
        <i class="fa fa-phone text-yellow-400 mr-2"></i>
        {{ form.telefone|add_class:"w-full py-2 bg-transparent focus:outline-none text-white" }}
      </div>
      {{ form.telefone.errors }}
    </div>

    <p class="text-yellow-200 text-sm mb-6">O código de verificação será enviado por <strong>e-mail</strong>.</p>

    <button type="submit" class="w-full bg-gradient-to-r from-yellow-400 to-pink-500 hover:from-pink-500 hover:to-yellow-400 text-black font-bold py-2 rounded shadow-lg transition-all">
      CADASTRAR
    </button>

    <p class="text-center text-sm mt-4 text-cyan-100">Já tem conta?</p>
    <a href="{% url 'login' %}" class="block text-center text-yellow-300 hover:text-yellow-200 underline">
      Fazer login
    </a>
  </form>

  <div class="flex gap-5 text-yellow-100 text-xl mt-6 opacity-60">
    <i class="fas fa-boombox"></i>
    <i class="fas fa-gamepad"></i>
    <i class="fas fa-basketball-ball"></i>
    <i class="fas fa-microphone"></i>
    <i class="fas fa-user-ninja"></i>
    <i class="fas fa-glasses"></i>
  </div>
</div>
{% endblock %}
